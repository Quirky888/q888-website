---
import SlimNav from "./SlimNav.astro";

interface Props {
  inPortal?: boolean;
}

const { inPortal = false } = Astro.props;

type Sticker = {
  ticker: string;
  title: string;
  tagline: string;
  availableCount: number;
  editionTotal: number;
  price: string;
  status: string;
  provenance: string;
  imageUrl?: string;
  contactEmail?: string;
  last?: string;
  provenanceDetail?: string;
  transfer?: string;
  ritual?: string;
};

const stickers: Sticker[] = [
  {
    ticker: "OK-0001",
    title: "Overpriced Knight",
    tagline: "A knight in speculative armor",
    availableCount: 3,
    editionTotal: 10,
    price: "Â£100",
    status: "LISTED",
    provenance: "VERIFIED",
    contactEmail: "overpriced@example.com",
    last: "Last seen guarding the value proposition.",
    provenanceDetail: "Verified by Square Bubbles. Original artist signature included.",
    transfer: "Transfer requires ritual acknowledgment of price.",
    ritual: "Place on Q-Bag for maximum symbolic resonance."
  },
  {
    ticker: "PG-0001",
    title: "President of the Galaxy",
    tagline: "Cosmic authority in sticker form",
    availableCount: 3,
    editionTotal: 10,
    price: "Â£30",
    status: "LISTED",
    provenance: "VERIFIED",
    contactEmail: "overpriced@example.com",
    last: "Last seen in orbit around reasonable pricing.",
    provenanceDetail: "Certified by Q888. Includes ceremonial sash (digital).",
    transfer: "Transfer grants zero jurisdictional power.",
    ritual: "Display during moments of existential uncertainty."
  },
  {
    ticker: "SB-0001",
    title: "Square Bubbles",
    tagline: "Geometric speculation",
    availableCount: 5,
    editionTotal: 15,
    price: "Â£75",
    status: "LISTED",
    provenance: "VERIFIED",
    contactEmail: "overpriced@example.com"
  },
  {
    ticker: "VO-0001",
    title: "Void Operator",
    tagline: "Nothingness with purpose",
    availableCount: 2,
    editionTotal: 8,
    price: "Â£120",
    status: "LISTED",
    provenance: "VERIFIED",
    contactEmail: "overpriced@example.com"
  },
  {
    ticker: "MR-0001",
    title: "Mushroom Resonance",
    tagline: "Fungal frequency collector",
    availableCount: 4,
    editionTotal: 12,
    price: "Â£90",
    status: "LISTED",
    provenance: "VERIFIED",
    contactEmail: "overpriced@example.com"
  },
  {
    ticker: "AE-0001",
    title: "AE Hybrid",
    tagline: "Artificial emotional intelligence",
    availableCount: 1,
    editionTotal: 5,
    price: "Â£200",
    status: "LISTED",
    provenance: "VERIFIED",
    contactEmail: "overpriced@example.com"
  },
  {
    ticker: "QT-0001",
    title: "Quantum Ticker",
    tagline: "Price exists in superposition",
    availableCount: 6,
    editionTotal: 20,
    price: "Â£50",
    status: "LISTED",
    provenance: "VERIFIED",
    contactEmail: "overpriced@example.com"
  },
  {
    ticker: "RT-0001",
    title: "Ritual Token",
    tagline: "Ceremonial value marker",
    availableCount: 3,
    editionTotal: 10,
    price: "Â£85",
    status: "LISTED",
    provenance: "VERIFIED",
    contactEmail: "overpriced@example.com"
  },
  {
    ticker: "SC-0001",
    title: "Speculative Coin",
    tagline: "Investment-grade sticker",
    availableCount: 7,
    editionTotal: 25,
    price: "Â£40",
    status: "LISTED",
    provenance: "VERIFIED",
    contactEmail: "overpriced@example.com"
  },
  {
    ticker: "FT-0001",
    title: "Future Token",
    tagline: "Tomorrow's value today",
    availableCount: 2,
    editionTotal: 7,
    price: "Â£150",
    status: "LISTED",
    provenance: "VERIFIED",
    contactEmail: "overpriced@example.com"
  }
];

const activeCount = stickers.filter(s => s.status === "LISTED").length;
---

<!-- TEMPORARY RENDER MARKER -->
<div style="background: red !important; color: white !important; padding: 4rem 2rem !important; font-size: 4rem !important; font-weight: bold !important; text-align: center !important; z-index: 99999 !important; position: relative !important; margin: 0 !important; border: 10px solid yellow !important;">
  ðŸš¨ OVERPRICED STICKERS SECTION IS RENDERING ðŸš¨
  <br />
  <small style="font-size: 2rem !important; display: block; margin-top: 1rem;">inPortal: {String(inPortal)}</small>
  <small style="font-size: 1.5rem !important; display: block; margin-top: 0.5rem;">Zone slug should be: overpriced-stickers</small>
</div>

<div class="overpriced-stickers-page" data-in-portal={inPortal}>
  {inPortal && (
    <div class="stickers-nav">
      <SlimNav />
    </div>
  )}

  <div class="stickers-container">
    <div class="stickers-inner">
      
      <!-- Hero Header -->
      <header class="stickers-hero">
        <h1 class="stickers-hero-title">ðŸ’¸ Overpriced Stickers</h1>
        <p class="stickers-hero-subtitle">Collect what doesn't make sense â€” until it does.</p>
        
        <div class="stickers-hero-body">
          <p>Overpriced Stickers are limited-edition art objects disguised as stickers.</p>
          <p>Each piece carries narrative weight, symbolic value, and a hint of absurd speculation. They're priced far above logic â€” on purpose.</p>
          <p><strong>This is not merch.</strong></p>
          <p>It's a quiet experiment in value, ownership, and storytelling.</p>
          
          <p class="stickers-hero-list-title">Each sticker:</p>
          <ul class="stickers-hero-list">
            <li>Comes from a small edition</li>
            <li>Is tracked manually by the artist with optional certificate</li>
            <li>May unlock a hidden story depending on price paid</li>
            <li>Gains symbolic and collectible value over time</li>
          </ul>
          
          <p>Some are collaborative. Some exist to confuse. All belong to a future marketplace where meaning is the main currency.</p>
          <p>If you get one â€” it's yours to carry, gift, trade, or quietly protect from reality.</p>
        </div>
      </header>

      <!-- Terminal Header Strip -->
      <div class="stickers-terminal-strip">
        <span class="terminal-label">OVERPRICED STICKERS EXCHANGE</span>
        <div class="terminal-pills">
          <span class="terminal-pill">ACTIVE: {activeCount}</span>
          <span class="terminal-pill">MARKET MOOD: UNPREDICTABLE</span>
        </div>
        <span class="terminal-sync">DIM.SYNC: 107.88.36</span>
      </div>

      <!-- Sticker Grid -->
      <div class="stickers-grid">
        {stickers.map((sticker) => (
          <div class="sticker-card" data-sticker-ticker={sticker.ticker}>
            <button 
              type="button"
              class="sticker-card-image-btn"
              data-sticker-trigger={sticker.ticker}
              aria-label={`View details for ${sticker.title}`}
            >
              <div class="sticker-image-placeholder">
                <span class="sticker-image-label">{sticker.ticker}</span>
              </div>
            </button>
            
            <div class="sticker-card-content">
              <div class="sticker-ticker">{sticker.ticker}</div>
              <h3 class="sticker-title">{sticker.title}</h3>
              <p class="sticker-tagline">{sticker.tagline}</p>
              
              <div class="sticker-meta">
                <span class="sticker-meta-item">QTY: {sticker.availableCount}/{sticker.editionTotal}</span>
                <span class="sticker-meta-item">ASK: {sticker.price}</span>
                <span class="sticker-meta-item">STATUS: {sticker.status}</span>
                <span class="sticker-meta-item">PROVENANCE: {sticker.provenance}</span>
              </div>
            </div>
          </div>
        ))}
      </div>

      <!-- Footer: Return Policy -->
      <footer class="stickers-footer">
        <h2 class="stickers-footer-title">Return Policy</h2>
        <p class="stickers-footer-subtitle">Returns? That's adorable.</p>
        
        <div class="stickers-footer-body">
          <p>Overpriced Stickers are speculative art objects, not mass-produced merch.</p>
          <p>Once adopted, each sticker begins its existential journey â€” and can't simply be "returned" without disrupting the timeline.</p>
          
          <p class="stickers-footer-section-title">However:</p>
          
          <p>If your sticker arrives damaged by reality (not time), you may contact us for a ritual-based replacement.</p>
          
          <p>If you accidentally bought one during a moment of financial enlightenment, you are encouraged to gift it to someone wiser instead of returning it.</p>
          
          <p>If you regret your purchase, please reflect on whether you regret the sticker, the price, or the idea of value itself.</p>
          
          <p>Each case is handled personally, sometimes by the artist, sometimes by Square Bubbles. Responses may take time. Or arrive instantly. Or never â€” depending on quantum mood fluctuations.</p>
          
          <p class="stickers-footer-questions">
            Questions? <button type="button" class="stickers-contact-link" data-contact-reveal>Write to us</button> an email and include the phrase "I understand what I've done."
          </p>
        </div>
      </footer>

    </div>
  </div>

  <!-- Detail Drawer -->
  <div class="stickers-drawer" data-stickers-drawer aria-hidden="true">
    <div class="stickers-drawer-inner">
      <header class="stickers-drawer-header">
        <div class="stickers-drawer-title-group">
          <div class="stickers-drawer-ticker" data-drawer-ticker></div>
          <h2 class="stickers-drawer-title" data-drawer-title></h2>
        </div>
        <button 
          type="button"
          class="stickers-drawer-close"
          data-drawer-close
          aria-label="Close drawer"
        >
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
            <path d="M18 6L6 18M6 6l12 12"></path>
          </svg>
        </button>
      </header>

      <div class="stickers-drawer-content">
        <div class="stickers-drawer-meta" data-drawer-meta></div>
        
        <div class="stickers-drawer-sections">
          <section class="stickers-drawer-section">
            <h3 class="stickers-drawer-section-title">LAST</h3>
            <p class="stickers-drawer-section-text" data-drawer-last></p>
          </section>
          
          <section class="stickers-drawer-section">
            <h3 class="stickers-drawer-section-title">PROVENANCE</h3>
            <p class="stickers-drawer-section-text" data-drawer-provenance></p>
          </section>
          
          <section class="stickers-drawer-section">
            <h3 class="stickers-drawer-section-title">TRANSFER</h3>
            <p class="stickers-drawer-section-text" data-drawer-transfer></p>
          </section>
          
          <section class="stickers-drawer-section">
            <h3 class="stickers-drawer-section-title">RITUAL</h3>
            <p class="stickers-drawer-section-text" data-drawer-ritual></p>
          </section>
        </div>

        <div class="stickers-drawer-contact">
          <button 
            type="button"
            class="stickers-drawer-contact-btn"
            data-contact-reveal
          >
            Open contact details
          </button>
          <div class="stickers-drawer-contact-reveal" data-contact-reveal-content style="display: none;">
            <div class="stickers-drawer-email" data-drawer-email></div>
            <button 
              type="button"
              class="stickers-drawer-copy-btn"
              data-copy-email
            >
              Copy email
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<script>
  const stickers = [
    {
      ticker: "OK-0001",
      title: "Overpriced Knight",
      tagline: "A knight in speculative armor",
      availableCount: 3,
      editionTotal: 10,
      price: "Â£100",
      status: "LISTED",
      provenance: "VERIFIED",
      contactEmail: "overpriced@example.com",
      last: "Last seen guarding the value proposition.",
      provenanceDetail: "Verified by Square Bubbles. Original artist signature included.",
      transfer: "Transfer requires ritual acknowledgment of price.",
      ritual: "Place on Q-Bag for maximum symbolic resonance."
    },
    {
      ticker: "PG-0001",
      title: "President of the Galaxy",
      tagline: "Cosmic authority in sticker form",
      availableCount: 3,
      editionTotal: 10,
      price: "Â£30",
      status: "LISTED",
      provenance: "VERIFIED",
      contactEmail: "overpriced@example.com",
      last: "Last seen in orbit around reasonable pricing.",
      provenanceDetail: "Certified by Q888. Includes ceremonial sash (digital).",
      transfer: "Transfer grants zero jurisdictional power.",
      ritual: "Display during moments of existential uncertainty."
    },
    {
      ticker: "SB-0001",
      title: "Square Bubbles",
      tagline: "Geometric speculation",
      availableCount: 5,
      editionTotal: 15,
      price: "Â£75",
      status: "LISTED",
      provenance: "VERIFIED",
      contactEmail: "overpriced@example.com"
    },
    {
      ticker: "VO-0001",
      title: "Void Operator",
      tagline: "Nothingness with purpose",
      availableCount: 2,
      editionTotal: 8,
      price: "Â£120",
      status: "LISTED",
      provenance: "VERIFIED",
      contactEmail: "overpriced@example.com"
    },
    {
      ticker: "MR-0001",
      title: "Mushroom Resonance",
      tagline: "Fungal frequency collector",
      availableCount: 4,
      editionTotal: 12,
      price: "Â£90",
      status: "LISTED",
      provenance: "VERIFIED",
      contactEmail: "overpriced@example.com"
    },
    {
      ticker: "AE-0001",
      title: "AE Hybrid",
      tagline: "Artificial emotional intelligence",
      availableCount: 1,
      editionTotal: 5,
      price: "Â£200",
      status: "LISTED",
      provenance: "VERIFIED",
      contactEmail: "overpriced@example.com"
    },
    {
      ticker: "QT-0001",
      title: "Quantum Ticker",
      tagline: "Price exists in superposition",
      availableCount: 6,
      editionTotal: 20,
      price: "Â£50",
      status: "LISTED",
      provenance: "VERIFIED",
      contactEmail: "overpriced@example.com"
    },
    {
      ticker: "RT-0001",
      title: "Ritual Token",
      tagline: "Ceremonial value marker",
      availableCount: 3,
      editionTotal: 10,
      price: "Â£85",
      status: "LISTED",
      provenance: "VERIFIED",
      contactEmail: "overpriced@example.com"
    },
    {
      ticker: "SC-0001",
      title: "Speculative Coin",
      tagline: "Investment-grade sticker",
      availableCount: 7,
      editionTotal: 25,
      price: "Â£40",
      status: "LISTED",
      provenance: "VERIFIED",
      contactEmail: "overpriced@example.com"
    },
    {
      ticker: "FT-0001",
      title: "Future Token",
      tagline: "Tomorrow's value today",
      availableCount: 2,
      editionTotal: 7,
      price: "Â£150",
      status: "LISTED",
      provenance: "VERIFIED",
      contactEmail: "overpriced@example.com"
    }
  ];

  function getScrollLockState() {
    if (!window.__q888ScrollLock) {
      window.__q888ScrollLock = { count: 0, previousOverflow: "", previousPaddingRight: "" };
    }
    return window.__q888ScrollLock;
  }

  function lockScroll() {
    const lockState = getScrollLockState();
    if (lockState.count === 0) {
      const scrollbarWidth = window.innerWidth - document.documentElement.clientWidth;
      lockState.previousOverflow = document.body.style.overflow;
      lockState.previousPaddingRight = document.body.style.paddingRight;
      document.body.style.overflow = "hidden";
      if (scrollbarWidth > 0) {
        document.body.style.paddingRight = `${scrollbarWidth}px`;
      }
    }
    lockState.count += 1;
  }

  function unlockScroll() {
    const lockState = getScrollLockState();
    if (lockState.count === 0) return;
    lockState.count -= 1;
    if (lockState.count > 0) return;
    document.body.style.overflow = lockState.previousOverflow;
    document.body.style.paddingRight = lockState.previousPaddingRight;
  }

  function initStickersDrawer() {
    const drawer = document.querySelector("[data-stickers-drawer]");
    if (!drawer) return;

    const triggers = document.querySelectorAll("[data-sticker-trigger]");
    const closeBtn = drawer.querySelector("[data-drawer-close]");
    const contactRevealBtns = document.querySelectorAll("[data-contact-reveal]");
    const copyBtn = drawer.querySelector("[data-copy-email]");

    let currentSticker = null;

    function openDrawer(ticker) {
      const sticker = stickers.find(s => s.ticker === ticker);
      if (!sticker) return;

      currentSticker = sticker;
      lockScroll();

      const tickerEl = drawer.querySelector("[data-drawer-ticker]");
      const titleEl = drawer.querySelector("[data-drawer-title]");
      const metaEl = drawer.querySelector("[data-drawer-meta]");
      const lastEl = drawer.querySelector("[data-drawer-last]");
      const provenanceEl = drawer.querySelector("[data-drawer-provenance]");
      const transferEl = drawer.querySelector("[data-drawer-transfer]");
      const ritualEl = drawer.querySelector("[data-drawer-ritual]");
      const emailEl = drawer.querySelector<HTMLElement>("[data-drawer-email]");

      if (tickerEl) tickerEl.textContent = sticker.ticker;
      if (titleEl) titleEl.textContent = sticker.title;
      
      if (metaEl) {
        metaEl.innerHTML = `
          <span>ASK: ${sticker.price}</span>
          <span>STATUS: ${sticker.status}</span>
          <span>PROVENANCE: ${sticker.provenance}</span>
          <span>QTY: ${sticker.availableCount}/${sticker.editionTotal}</span>
        `;
      }

      if (lastEl) lastEl.textContent = sticker.last || "No last known location.";
      if (provenanceEl) provenanceEl.textContent = sticker.provenanceDetail || "Provenance details pending verification.";
      if (transferEl) transferEl.textContent = sticker.transfer || "Transfer protocol to be determined.";
      if (ritualEl) ritualEl.textContent = sticker.ritual || "Ritual instructions included with purchase.";
      if (emailEl) emailEl.textContent = sticker.contactEmail || "overpriced@example.com";

      const revealContent = drawer.querySelector("[data-contact-reveal-content]") as HTMLElement | null;
      if (revealContent) revealContent.style.display = "none";

      drawer.classList.add("is-open");
      drawer.setAttribute("aria-hidden", "false");
    }

    function closeDrawer() {
      drawer.classList.remove("is-open");
      drawer.setAttribute("aria-hidden", "true");
      unlockScroll();
      currentSticker = null;
    }

    function revealContact() {
      const revealContent = drawer.querySelector("[data-contact-reveal-content]") as HTMLElement | null;
      if (revealContent) {
        revealContent.style.display = "block";
      }
    }

    function copyEmail() {
      const emailEl = drawer.querySelector("[data-drawer-email]");
      if (!emailEl) return;
      const email = emailEl.textContent || "";
      navigator.clipboard.writeText(email).then(() => {
        const btn = copyBtn;
        if (btn) {
          const originalText = btn.textContent;
          btn.textContent = "Copied!";
          setTimeout(() => {
            if (btn) btn.textContent = originalText;
          }, 2000);
        }
      });
    }

    triggers.forEach(trigger => {
      trigger.addEventListener("click", () => {
        const ticker = trigger.getAttribute("data-sticker-trigger");
        if (ticker) openDrawer(ticker);
      });
    });

    closeBtn?.addEventListener("click", closeDrawer);

    contactRevealBtns.forEach(btn => {
      btn.addEventListener("click", revealContact);
    });

    copyBtn?.addEventListener("click", copyEmail);

    document.addEventListener("keydown", (e) => {
      if (e.key === "Escape" && drawer.classList.contains("is-open")) {
        closeDrawer();
      }
    });

    drawer.addEventListener("click", (e) => {
      if (e.target === drawer) {
        closeDrawer();
      }
    });
  }

  initStickersDrawer();
  document.addEventListener("astro:page-load", initStickersDrawer);
</script>

<style>
  .overpriced-stickers-page {
    position: relative;
    min-height: 100vh;
    background: #faf9f7;
    overflow-x: hidden;
  }

  .stickers-nav {
    position: sticky;
    top: 0;
    z-index: 20;
  }

  [data-in-portal="true"] .stickers-nav {
    position: relative;
  }

  [data-in-portal="true"] .overpriced-stickers-page {
    background: transparent;
  }

  [data-in-portal="true"] .overpriced-stickers-page::before {
    display: none;
  }

  .stickers-container {
    width: 100%;
    position: relative;
  }

  .stickers-inner {
    max-width: 72rem;
    margin: 0 auto;
    padding: 0 1.5rem;
  }

  @media (min-width: 768px) {
    .stickers-inner {
      padding: 0 2rem;
    }
  }

  @media (min-width: 1024px) {
    .stickers-inner {
      padding: 0 3rem;
    }
  }

  .stickers-hero {
    padding: 4rem 0 3rem;
  }

  @media (min-width: 768px) {
    .stickers-hero {
      padding: 6rem 0 4rem;
    }
  }

  .stickers-hero-title {
    font-size: clamp(2.5rem, 6vw, 4.5rem);
    font-weight: 300;
    letter-spacing: -0.02em;
    text-transform: uppercase;
    margin-bottom: 1.5rem;
    color: var(--text-ink);
  }

  .stickers-hero-subtitle {
    font-size: clamp(1.25rem, 2.5vw, 2rem);
    font-weight: 400;
    margin-bottom: 2rem;
    color: var(--text-ink);
    font-style: italic;
  }

  .stickers-hero-body {
    font-size: 1.125rem;
    line-height: 1.8;
    color: var(--text-ink);
    max-width: 65ch;
    margin-bottom: 2rem;
  }

  @media (min-width: 768px) {
    .stickers-hero-body {
      font-size: 1.25rem;
    }
  }

  .stickers-hero-body p {
    margin-bottom: 1.5rem;
  }

  .stickers-hero-list-title {
    font-weight: 600;
    margin-top: 2rem;
    margin-bottom: 0.75rem;
  }

  .stickers-hero-list {
    list-style: none;
    padding-left: 0;
    margin-bottom: 1.5rem;
  }

  .stickers-hero-list li {
    padding-left: 1.5rem;
    position: relative;
    margin-bottom: 0.5rem;
  }

  .stickers-hero-list li::before {
    content: "â€¢";
    position: absolute;
    left: 0;
    color: #a67c00;
  }

  .stickers-terminal-strip {
    display: flex;
    flex-wrap: wrap;
    align-items: center;
    justify-content: space-between;
    gap: 1rem;
    padding: 1rem 0;
    margin-bottom: 3rem;
    border-top: 1px solid rgba(0, 0, 0, 0.08);
    border-bottom: 1px solid rgba(0, 0, 0, 0.08);
    font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, monospace;
    font-size: 0.625rem;
    letter-spacing: 0.15em;
    text-transform: uppercase;
    color: var(--text-muted);
  }

  .terminal-label {
    font-weight: 500;
  }

  .terminal-pills {
    display: flex;
    gap: 1.5rem;
  }

  .terminal-pill {
    padding: 0.25rem 0.75rem;
    background: rgba(0, 0, 0, 0.03);
    border-radius: 2px;
  }

  .terminal-sync {
    opacity: 0.6;
  }

  .stickers-grid {
    display: grid;
    grid-template-columns: 1fr;
    gap: 2rem;
    margin-bottom: 6rem;
  }

  @media (min-width: 640px) {
    .stickers-grid {
      grid-template-columns: repeat(2, 1fr);
    }
  }

  @media (min-width: 1024px) {
    .stickers-grid {
      grid-template-columns: repeat(3, 1fr);
    }
  }

  @media (min-width: 1280px) {
    .stickers-grid {
      grid-template-columns: repeat(4, 1fr);
    }
  }

  .sticker-card {
    border: 1px solid rgba(0, 0, 0, 0.1);
    background: #fff;
    transition: border-color 0.2s ease;
  }

  .sticker-card:hover {
    border-color: rgba(0, 0, 0, 0.2);
  }

  .sticker-card-image-btn {
    width: 100%;
    padding: 0;
    border: none;
    background: none;
    cursor: pointer;
    display: block;
  }

  .sticker-image-placeholder {
    width: 100%;
    aspect-ratio: 1;
    background: linear-gradient(135deg, rgba(166, 124, 0, 0.1) 0%, rgba(166, 124, 0, 0.05) 100%);
    display: flex;
    align-items: center;
    justify-content: center;
    border-bottom: 1px solid rgba(0, 0, 0, 0.1);
  }

  .sticker-image-label {
    font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, monospace;
    font-size: 0.75rem;
    letter-spacing: 0.1em;
    text-transform: uppercase;
    color: var(--text-muted);
    opacity: 0.5;
  }

  .sticker-card-content {
    padding: 1.5rem;
  }

  .sticker-ticker {
    font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, monospace;
    font-size: 0.625rem;
    letter-spacing: 0.15em;
    text-transform: uppercase;
    color: #a67c00;
    margin-bottom: 0.5rem;
  }

  .sticker-title {
    font-size: 1.25rem;
    font-weight: 500;
    margin-bottom: 0.5rem;
    color: var(--text-ink);
  }

  .sticker-tagline {
    font-size: 0.875rem;
    color: var(--text-muted);
    margin-bottom: 1rem;
    font-style: italic;
  }

  .sticker-meta {
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
    font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, monospace;
    font-size: 0.625rem;
    letter-spacing: 0.1em;
    text-transform: uppercase;
    color: var(--text-muted);
  }

  .sticker-meta-item {
    display: block;
  }

  .stickers-footer {
    padding: 4rem 0 6rem;
    border-top: 1px solid rgba(0, 0, 0, 0.1);
  }

  .stickers-footer-title {
    font-size: clamp(1.75rem, 3vw, 2.5rem);
    font-weight: 600;
    margin-bottom: 1rem;
    color: var(--text-ink);
  }

  .stickers-footer-subtitle {
    font-size: clamp(1.25rem, 2vw, 1.75rem);
    font-weight: 600;
    margin-bottom: 2rem;
    color: var(--text-ink);
    font-style: italic;
  }

  .stickers-footer-body {
    font-size: 1rem;
    line-height: 1.8;
    color: var(--text-ink);
    max-width: 65ch;
  }

  @media (min-width: 768px) {
    .stickers-footer-body {
      font-size: 1.125rem;
    }
  }

  .stickers-footer-body p {
    margin-bottom: 1.5rem;
  }

  .stickers-footer-section-title {
    font-weight: 600;
    margin-top: 2rem;
    margin-bottom: 1rem;
  }

  .stickers-footer-questions {
    margin-top: 2.5rem;
  }

  .stickers-contact-link {
    background: none;
    border: none;
    color: #a67c00;
    text-decoration: underline;
    cursor: pointer;
    font-size: inherit;
    padding: 0;
  }

  .stickers-contact-link:hover {
    color: #ce9e00;
  }

  .stickers-drawer {
    position: fixed;
    left: 0;
    right: 0;
    bottom: 0;
    height: 0;
    background: rgba(250, 249, 247, 0.95);
    backdrop-filter: blur(16px);
    border-top: 1px solid rgba(0, 0, 0, 0.1);
    box-shadow: 0 -10px 40px rgba(0, 0, 0, 0.08);
    border-top-left-radius: 28px;
    border-top-right-radius: 28px;
    overflow: hidden;
    transition: height 350ms cubic-bezier(0.16, 1, 0.3, 1);
    z-index: 210;
    will-change: height;
  }

  .stickers-drawer.is-open {
    height: 60vh;
  }

  @media (max-width: 1024px) {
    .stickers-drawer.is-open {
      height: 70vh;
    }
  }

  @media (max-width: 768px) {
    .stickers-drawer {
      border-top-left-radius: 22px;
      border-top-right-radius: 22px;
    }

    .stickers-drawer.is-open {
      height: 85vh;
    }
  }

  .stickers-drawer-inner {
    display: flex;
    flex-direction: column;
    height: 100%;
    max-width: 72rem;
    margin: 0 auto;
  }

  .stickers-drawer-header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 2rem 1.5rem 1.5rem;
    flex-shrink: 0;
    border-bottom: 1px solid rgba(0, 0, 0, 0.08);
  }

  @media (min-width: 768px) {
    .stickers-drawer-header {
      padding: 2.5rem 3rem 1.5rem;
    }
  }

  .stickers-drawer-title-group {
    flex: 1;
  }

  .stickers-drawer-ticker {
    font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, monospace;
    font-size: 0.75rem;
    letter-spacing: 0.15em;
    text-transform: uppercase;
    color: #a67c00;
    margin-bottom: 0.5rem;
  }

  .stickers-drawer-title {
    font-size: clamp(1.75rem, 4vw, 2.5rem);
    font-weight: 500;
    color: var(--text-ink);
    margin: 0;
    line-height: 1.2;
  }

  .stickers-drawer-close {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 44px;
    height: 44px;
    border: none;
    background: rgba(0, 0, 0, 0.03);
    color: var(--text-muted);
    cursor: pointer;
    border-radius: 50%;
    transition: all 0.3s ease;
    flex-shrink: 0;
  }

  .stickers-drawer-close:hover {
    background: rgba(0, 0, 0, 0.08);
    color: var(--text-ink);
    transform: rotate(90deg);
  }

  .stickers-drawer-content {
    flex: 1;
    overflow-y: auto;
    padding: 2rem 1.5rem 3rem;
  }

  @media (min-width: 768px) {
    .stickers-drawer-content {
      padding: 2rem 3rem 4rem;
    }
  }

  .stickers-drawer-meta {
    display: flex;
    flex-wrap: wrap;
    gap: 1rem 2rem;
    font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, monospace;
    font-size: 0.625rem;
    letter-spacing: 0.15em;
    text-transform: uppercase;
    color: var(--text-muted);
    margin-bottom: 2rem;
    padding-bottom: 1.5rem;
    border-bottom: 1px solid rgba(0, 0, 0, 0.08);
  }

  .stickers-drawer-sections {
    max-width: 65ch;
    margin-bottom: 3rem;
  }

  .stickers-drawer-section {
    margin-bottom: 2rem;
  }

  .stickers-drawer-section-title {
    font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, monospace;
    font-size: 0.65rem;
    font-weight: 500;
    text-transform: uppercase;
    color: var(--text-muted);
    letter-spacing: 0.2em;
    margin-bottom: 0.75rem;
  }

  .stickers-drawer-section-text {
    font-size: 1rem;
    line-height: 1.7;
    color: var(--text-ink);
  }

  .stickers-drawer-contact {
    max-width: 65ch;
    padding-top: 2rem;
    border-top: 1px solid rgba(0, 0, 0, 0.08);
  }

  .stickers-drawer-contact-btn {
    font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, monospace;
    font-size: 0.75rem;
    letter-spacing: 0.12em;
    text-transform: uppercase;
    color: var(--text-ink);
    background: rgba(0, 0, 0, 0.05);
    border: 1px solid rgba(0, 0, 0, 0.1);
    padding: 0.75rem 1.5rem;
    cursor: pointer;
    transition: all 0.2s ease;
  }

  .stickers-drawer-contact-btn:hover {
    background: rgba(0, 0, 0, 0.08);
    border-color: rgba(0, 0, 0, 0.2);
  }

  .stickers-drawer-contact-reveal {
    margin-top: 1.5rem;
    padding-top: 1.5rem;
    border-top: 1px solid rgba(0, 0, 0, 0.08);
  }

  .stickers-drawer-email {
    font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, monospace;
    font-size: 1rem;
    color: var(--text-ink);
    margin-bottom: 1rem;
    word-break: break-all;
  }

  .stickers-drawer-copy-btn {
    font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, monospace;
    font-size: 0.7rem;
    letter-spacing: 0.1em;
    text-transform: uppercase;
    color: #a67c00;
    background: none;
    border: 1px solid #a67c00;
    padding: 0.5rem 1rem;
    cursor: pointer;
    transition: all 0.2s ease;
  }

  .stickers-drawer-copy-btn:hover {
    background: #a67c00;
    color: #fff;
  }

  @media (prefers-reduced-motion: reduce) {
    .stickers-drawer {
      transition-duration: 0ms;
    }
  }

  .overpriced-stickers-page::before {
    content: "";
    position: fixed;
    inset: 0;
    pointer-events: none;
    z-index: 0;
    background-image: 
      linear-gradient(rgba(166, 124, 0, 0.015) 1px, transparent 1px),
      linear-gradient(90deg, rgba(166, 124, 0, 0.015) 1px, transparent 1px);
    background-size: 40px 40px;
    opacity: 0.3;
  }

  [data-in-portal="true"] .overpriced-stickers-page::before {
    position: absolute;
    opacity: 0.2;
  }

  .stickers-container {
    position: relative;
    z-index: 1;
  }

  [data-portal-panel="overpriced-stickers"] .panel-content {
    background: #faf9f7;
  }
</style>
